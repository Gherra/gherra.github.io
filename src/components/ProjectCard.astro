---
export interface Props {
  slug: string;
  title: string;
  description: string;
  category: "android" | "ml" | "web";
  tags: string[];
  image?: string;
}

const { slug, title, description, category, tags, image } = Astro.props;

const categoryStyles = {
  android: "category-android",
  ml: "category-ml",
  web: "category-web",
};

const categoryLabels = {
  android: "Android",
  ml: "Computer Vision / ML",
  web: "Web",
};

const categoryColors = {
  android: "text-green-600 dark:text-green-400",
  ml: "text-purple-600 dark:text-purple-400",
  web: "text-blue-600 dark:text-blue-400",
};
---

<a
  href={`/projects/${slug}`}
  class={`card ${categoryStyles[category]} flex flex-col h-full group`}
>
  {
    image && (
      <div class="w-full aspect-[2/1] overflow-hidden border-b-2 border-slate-200 dark:border-slate-800">
        <img src={image} alt={title} class="w-full h-full object-cover" />
      </div>
    )
  }

  <div class="p-6 flex-1 flex flex-col">
    <!-- Category Badge -->
    <div class="mb-3">
      <span
        class={`text-xs font-mono uppercase tracking-wider ${categoryColors[category]}`}
      >
        {categoryLabels[category]}
      </span>
    </div>

    <!-- Title -->
    <h3 class="text-xl font-bold mb-2 group-hover:underline">
      {title}
    </h3>

    <!-- Description -->
    <p
      class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4 line-clamp-3"
    >
      {description}
    </p>

    <!-- Tags -->
    <div class="flex flex-wrap gap-2 mt-auto">
      {
        tags
          .slice(0, 3)
          .map((tag) => <span class="tech-pill text-xs">{tag}</span>)
      }
    </div>
  </div>
</a>
